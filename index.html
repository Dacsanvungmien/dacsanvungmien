<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒê·∫∑c S·∫£n T·ªãnh Bi√™n - H∆∞∆°ng V·ªã Th·∫•t S∆°n</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Playfair+Display:ital,wght@1,500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        /* --- C·∫§U H√åNH CHUNG --- */
        :root {
            --primary-color: #2e7d32; /* Xanh l√° ƒë·∫≠m ch·ªß ƒë·∫°o */
            --accent-color: #e65100; /* Cam ƒë·∫•t t·∫°o ƒëi·ªÉm nh·∫•n */
            --bg-color: #f9fbf9;
            --text-color: #333;
            --white: #ffffff;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-color);
            margin: 0; padding: 0;
            color: var(--text-color);
            line-height: 1.6;
            padding-bottom: 80px; /* Ch·ª´a ch·ªó cho gi·ªè h√†ng n·ªïi */
        }

        a { text-decoration: none; color: inherit; }
        
        /* Container m√¥ ph·ªèng m√†n h√¨nh Mobile */
        .wrapper {
            max-width: 500px;
            margin: 0 auto;
            background: var(--white);
            box-shadow: 0 0 20px rgba(0,0,0,0.05);
            min-height: 100vh;
            position: relative;
            overflow: hidden;
        }

        /* --- 1. HERO SECTION --- */
        .hero {
            /* Thay ·∫£nh n·ªÅn T·ªãnh Bi√™n ·ªü ƒë√¢y */
            background: linear-gradient(to bottom, rgba(46, 125, 50, 0.9), rgba(46, 125, 50, 0.7)), 
                        url('images/tinhbien.jpg'); 
            background-size: cover;
            background-position: center;
            color: var(--white);
            text-align: center;
            padding: 60px 20px 40px;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
        }
        
        .avatar {
            width: 110px; height: 110px;
            border-radius: 50%;
            border: 4px solid rgba(255,255,255,0.8);
            object-fit: cover;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            margin-bottom: 15px;
        }

        .brand-name {
            font-family: 'Playfair Display', serif;
            font-size: 26px; margin: 0;
            font-weight: bold;
        }

        .slogan { font-size: 14px; opacity: 0.9; margin-top: 5px; font-style: italic;}

        /* --- 2. GI·ªöI THI·ªÜU --- */
        .intro-section { padding: 30px 20px; text-align: center; }
        .section-title {
            color: var(--primary-color);
            font-size: 18px; text-transform: uppercase;
            letter-spacing: 1px; margin-bottom: 15px;
            position: relative; display: inline-block;
            font-weight: bold;
        }
        .section-title::after {
            content: ''; display: block; width: 40px; height: 3px;
            background: var(--accent-color); margin: 5px auto 0;
            border-radius: 2px;
        }
        .intro-text { font-size: 14px; color: #666; text-align: justify; }

        /* --- 3. L∆Ø·ªöI S·∫¢N PH·∫®M (T·ª∞ ƒê·ªòNG) --- */
        .products-grid {
            display: grid;
            grid-template-columns: 1fr 1fr; /* 2 c·ªôt */
            gap: 15px;
            padding: 0 20px 30px;
        }

        .product-card {
            background: #fff;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
            transition: transform 0.3s;
            border: 1px solid #eee;
            display: flex; flex-direction: column;
            position: relative;
        }
        
        .product-card:hover { transform: translateY(-5px); }

        .p-img-box {
            position: relative;
            padding-top: 100%; /* T·∫°o khung vu√¥ng */
            overflow: hidden;
        }

        .p-img {
            position: absolute; top: 0; left: 0;
            width: 100%; height: 100%;
            object-fit: cover;
            background-color: #eee;
        }

        .p-new-badge {
            position: absolute; top: 10px; right: 10px;
            background: red; color: white;
            font-size: 10px; padding: 2px 6px;
            border-radius: 4px; font-weight: bold;
        }

        .p-info { padding: 10px; text-align: center; flex: 1; display: flex; flex-direction: column; justify-content: space-between; }
        .p-name { font-weight: 600; font-size: 14px; margin-bottom: 5px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; height: 38px; color: #333; }
        
        .p-price {
            color: #d32f2f; /* M√†u ƒë·ªè */
            font-weight: bold;
            font-size: 14px;
            display: block;
            margin-bottom: 8px;
        }

        .p-btn {
            font-size: 11px; color: var(--primary-color);
            font-weight: bold; text-transform: uppercase;
            border: 1px solid var(--primary-color);
            padding: 5px; border-radius: 5px;
            background: #f1f8e9;
        }

        /* --- 4. STORY & CONTACT --- */
        .story-section {
            background-color: #f1f8e9;
            padding: 30px 20px;
            margin: 0 15px 30px;
            border-radius: 15px;
            text-align: center;
        }
        .story-btn {
            display: inline-block; margin-top: 15px; padding: 10px 25px;
            background: var(--primary-color); color: white;
            border-radius: 25px; font-size: 13px; font-weight: 600;
        }

        .contact-list { padding: 0 20px 40px; }
        .contact-item {
            display: flex; align-items: center; background: white; padding: 15px;
            margin-bottom: 12px; border-radius: 12px; border: 1px solid #eee;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); transition: 0.2s; cursor: pointer;
        }
        .contact-item:hover { border-color: var(--primary-color); background: #f9fff9; }
        .c-icon {
            width: 40px; height: 40px; background: var(--primary-color);
            color: white; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            margin-right: 15px; font-size: 18px;
        }
        .c-info div:first-child { font-weight: bold; font-size: 14px; }
        .c-info div:last-child { font-size: 12px; color: #888; }

        .footer {
            background: #333; color: #aaa;
            text-align: center; padding: 20px;
            font-size: 11px;
        }

        /* GI·ªé H√ÄNG N·ªîI */
        .floating-cart {
            position: fixed; bottom: 30px; right: 20px;
            width: 60px; height: 60px;
            background-color: #d32f2f; color: white;
            border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            z-index: 999; text-decoration: none; font-size: 24px;
            transition: transform 0.2s;
        }
        .floating-cart:active { transform: scale(0.9); }
        #cart-count {
            position: absolute; top: -5px; right: -5px;
            background: #ffeb3b; color: #d32f2f;
            width: 24px; height: 24px;
            border-radius: 50%; font-size: 12px; font-weight: bold;
            display: flex; justify-content: center; align-items: center;
            border: 2px solid white;
        }
        
        /* Loading */
        #loading-msg {
            grid-column: 1 / -1; text-align: center; color: #888; padding: 20px;
        }
    </style>
</head>
<body>

<div class="wrapper">

    <div class="hero">
        <img src="images/tinhbien.jpg" alt="ƒê·∫∑c S·∫£n T·ªãnh Bi√™n" class="avatar" onerror="this.src='https://via.placeholder.com/150'">
        <h1 class="brand-name">ƒê·∫∂C S·∫¢N T·ªäNH BI√äN</h1>
        <p class="slogan">"Ch·∫•t l∆∞·ª£ng v√† Uy t√≠n"</p>
        <p class="slogan" style="font-size:12px; max-width: 90%; margin: 5px auto;">"Chuy√™n ƒë·∫∑c s·∫£n chu·∫©n g·ªëc - Kh√¥ng ngon ho√†n ti·ªÅn.<br>Mang h∆∞∆°ng v·ªã qu√™ nh√† ƒë·∫øn gian b·∫øp c·ªßa b·∫°n."</p>
    </div>

    <div class="intro-section">
        <div class="section-title">V·ªÅ Ch√∫ng T√¥i</div>
        <div class="intro-text">
            Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi c·ª≠a h√†ng! Ch√∫ng t√¥i chuy√™n cung c·∫•p c√°c s·∫£n ph·∫©m chu·∫©n g·ªëc v√πng B·∫£y N√∫i - An Giang. Cam k·∫øt uy t√≠n, gi·ªØ tr·ªçn h∆∞∆°ng v·ªã t·ª± nhi√™n v√† an to√†n cho s·ª©c kh·ªèe gia ƒë√¨nh b·∫°n.
        </div>
    </div>

    <h3 style="text-align:center; color: var(--primary-color); margin-bottom: 20px; text-transform: uppercase;">
        üî• S·∫£n Ph·∫©m M·ªõi Nh·∫•t
    </h3>
    
    <div class="products-grid" id="featured-list">
        <div id="loading-msg">
            <i class="fas fa-spinner fa-spin"></i> ƒêang t·∫£i ƒë·∫∑c s·∫£n v·ªÅ...
        </div>
    </div>
    
    <div style="text-align:center; margin-bottom:30px;">
        <a href="san-pham.html" style="font-size:13px; text-decoration:underline; color:#666; font-weight:600;">Xem t·∫•t c·∫£ s·∫£n ph·∫©m kh√°c >></a>
    </div>

    <div class="story-section">
        <div class="section-title">C√¢u chuy·ªán s·∫£n ph·∫©m</div>
        <p style="font-size: 13px; color: #555; font-style: italic;">
            "M·ªói v√πng ƒë·∫•t ƒë·ªÅu mang trong m√¨nh nh·ªØng h∆∞∆°ng v·ªã r·∫•t ri√™ng... Khi ta ch·∫≠m l·∫°i ƒë·ªÉ l·∫Øng nghe, t·ª´ng s·∫£n ph·∫©m s·∫Ω m·ªü ra m·ªôt h√†nh tr√¨nh th√∫ v·ªã, n∆°i h∆∞∆°ng v·ªã v√† c·∫£m x√∫c h√≤a quy·ªán..."
        </p>
        <a href="cau-chuyen.html" class="story-btn">Kh√°m ph√° ngay <i class="fas fa-arrow-right"></i></a>
    </div>

    <div class="contact-list">
        <h3 style="text-align:center; color: var(--primary-color); margin-bottom: 20px;">Li√™n H·ªá Ngay</h3>
        
        <div onclick="startChatZalo()" class="contact-item">
            <div class="c-icon"><i class="fas fa-comment-dots"></i></div>
            <div class="c-info">
                <div>Chat Zalo t∆∞ v·∫•n</div>
                <div>Ph·∫£n h·ªìi ngay l·∫≠p t·ª©c</div>
            </div>
        </div>

        <a href="tel:0966609447" class="contact-item">
            <div class="c-icon" style="background: var(--accent-color);"><i class="fas fa-phone-alt"></i></div>
            <div class="c-info">
                <div>G·ªçi Hotline</div>
                <div>09.666.09447 (Tr·∫ßn Hi·∫øu Thu·∫≠n)</div>
            </div>
        </a>

        <a href="https://maps.app.goo.gl/NXv9eosahbugDTb7A" target="_blank" class="contact-item">
            <div class="c-icon" style="background: #4285F4;"><i class="fas fa-map-marker-alt"></i></div>
            <div class="c-info">
                <div>T√¨m ƒë∆∞·ªùng ƒë·∫øn c·ª≠a h√†ng</div>
                <div>T·ªãnh Bi√™n, An Giang</div>
            </div>
        </a>
    </div>

    <div class="footer">
        ¬© 2025 ƒê·∫∑c S·∫£n V√πng Mi·ªÅn - Developed by Tr·∫ßn Hi·∫øu Thu·∫≠n
    </div>

</div>

<a href="gio-hang.html" class="floating-cart">
    <i class="fas fa-shopping-cart"></i>
    <span id="cart-count">0</span>
</a>

<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
<script src="main.js"></script>

<script>
    // --- C·∫§U H√åNH LI√äN K·∫æT GOOGLE SHEET ---
    // ‚ö†Ô∏è QUAN TR·ªåNG: D√°n link CSV Google Sheet c·ªßa b·∫°n v√†o ƒë√¢y
    const HOME_SHEET_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQH7snJz3nrHMHLUz9F1NtMhbwXhKXd4EzCTSJAUMYOsoxHEc5UJ6rcW0cG4y8qF2z9H_Wy6mBJRvPJ/pub?output=csv";

    document.addEventListener('DOMContentLoaded', function() {
        // Ki·ªÉm tra xem ƒë√£ d√°n link ch∆∞a
        if(!HOME_SHEET_URL || HOME_SHEET_URL.includes("D√ÅN_LINK")) {
            // N·∫øu ch∆∞a d√°n link, hi·ªán m·∫´u 2 s·∫£n ph·∫©m demo cho ƒë·∫πp
            document.getElementById('loading-msg').style.display = 'none';
            document.getElementById('featured-list').innerHTML = `
                <div style="grid-column:1/-1; text-align:center; color:red; padding:20px;">
                    Ch∆∞a k·∫øt n·ªëi Google Sheet!<br>Vui l√≤ng d√°n link CSV v√†o file index.html
                </div>
            `;
            return;
        }

        // ƒê·ªçc d·ªØ li·ªáu t·ª´ Sheet
        Papa.parse(HOME_SHEET_URL, {
            download: true,
            header: true,
            complete: function(results) {
                renderHomeProducts(results.data);
            }
        });
    });

    function renderHomeProducts(products) {
        const container = document.getElementById('featured-list');
        
        // 1. L·ªçc d√≤ng tr·ªëng
        let cleanData = products.filter(item => item.id && item.name);

        // 2. ƒê·∫£o ng∆∞·ª£c danh s√°ch (L·∫•y m√≥n m·ªõi nh·∫≠p l√™n ƒë·∫ßu)
        cleanData.reverse();

        // 3. L·∫•y 10 m√≥n ƒë·∫ßu ti√™n
        let topNew = cleanData.slice(0, 10);

        // 4. X√≥a loading v√† v·∫Ω l·∫°i
        container.innerHTML = "";
        
        topNew.forEach(item => {
            let price = Number(item.price);
            // Link t·ªõi trang chi ti·∫øt v·∫°n nƒÉng
            let detailLink = `chi-tiet.html?id=${item.id}`;

            let html = `
            <a href="${detailLink}" class="product-card">
                <div class="p-img-box">
                    <img src="${item.image}" class="p-img" alt="${item.name}" onerror="this.src='https://via.placeholder.com/300'">
                    <span class="p-new-badge">M·ªöI</span>
                </div>
                <div class="p-info">
                    <span class="p-name">${item.name}</span>
                    <span class="p-price">${price.toLocaleString('vi-VN')}ƒë</span>
                    <span class="p-btn">Chi ti·∫øt <i class="fas fa-arrow-right"></i></span>
                </div>
            </a>
            `;
            container.innerHTML += html;
        });
    }
</script>

</body>
</html>
